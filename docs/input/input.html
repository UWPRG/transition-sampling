

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Using transition_sampling &mdash; transition_sampling  documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="MD Engines" href="../engines/engines.html" />
    <link rel="prev" title="Transition Sampling Workflow" href="../workflow/workflow.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> transition_sampling
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../workflow/workflow.html">Transition Sampling Workflow</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Using transition_sampling</a></li>
<li class="toctree-l1"><a class="reference internal" href="#inputs-yml-format"><code class="docutils literal notranslate"><span class="pre">inputs.yml</span></code> Format</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#md-inputs-optional"><code class="docutils literal notranslate"><span class="pre">md_inputs</span></code> (Optional)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#colvar-inputs-optional"><code class="docutils literal notranslate"><span class="pre">colvar_inputs</span></code> (Optional)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#likelihood-inputs-optional"><code class="docutils literal notranslate"><span class="pre">likelihood_inputs</span></code> (Optional)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../engines/engines.html">MD Engines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../transition_sampling.html">transition_sampling package</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">transition_sampling</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Using transition_sampling</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/input/input.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <section id="using-transition-sampling">
<h1>Using transition_sampling<a class="headerlink" href="#using-transition-sampling" title="Permalink to this headline">¶</a></h1>
<p>Upon installing <code class="docutils literal notranslate"><span class="pre">transition_sampling</span></code>, a command line entry point <code class="docutils literal notranslate"><span class="pre">aimless_driver</span></code> is created.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">aimless_driver</span> <span class="n">inputs</span><span class="o">.</span><span class="n">yml</span> <span class="p">[</span><span class="o">--</span><span class="n">log</span><span class="o">-</span><span class="n">level</span><span class="o">=</span><span class="n">INFO</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">log</span><span class="o">-</span><span class="n">file</span><span class="o">=</span><span class="n">aimless</span><span class="o">.</span><span class="n">log</span><span class="p">]</span>
</pre></div>
</div>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">inputs.yml</span></code></dt><dd><p>describes all necessary inputs for the full pipeline, shown below.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">log-level</span></code></dt><dd><p>defaulted to <code class="docutils literal notranslate"><span class="pre">INFO</span></code>, but can take values <code class="docutils literal notranslate"><span class="pre">DEBUG,</span> <span class="pre">INFO,</span> <span class="pre">WARNING,</span> <span class="pre">ERROR,</span> <span class="pre">CRITICAL</span></code> in order of
decreasing granularity.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">log-file</span></code></dt><dd><p>defaulted to <code class="docutils literal notranslate"><span class="pre">aimless.log</span></code>, but can be set to the path log messages should be directed to.</p>
</dd>
</dl>
</section>
<section id="inputs-yml-format">
<h1><code class="docutils literal notranslate"><span class="pre">inputs.yml</span></code> Format<a class="headerlink" href="#inputs-yml-format" title="Permalink to this headline">¶</a></h1>
<p>We’ve chosen the YAML format to describe the inputs to <code class="docutils literal notranslate"><span class="pre">aimless_driver</span></code>. It’s split into three main sections, one for
each present in <a class="reference internal" href="../workflow/workflow.html#workflow"><span class="std std-ref">Transition Sampling Workflow</span></a>. Checkout the <a class="reference external" href="https://github.com/UWPRG/transition-sampling/blob/main/example/inputs.yml">example input file on github.</a></p>
<section id="md-inputs-optional">
<h2><code class="docutils literal notranslate"><span class="pre">md_inputs</span></code> (Optional)<a class="headerlink" href="#md-inputs-optional" title="Permalink to this headline">¶</a></h2>
<p>These are the required inputs for running aimless shooting and generating new shooting points with MD. If this section
is excluded, MD will not be run and we will continue to the next present part.</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">engine_inputs</span></code></dt><dd><dl>
<dt><code class="docutils literal notranslate"><span class="pre">engine</span></code><span class="classifier"><cite>str</cite> (Required)</span></dt><dd><p>Define what MD engine will be used. Currently only <code class="docutils literal notranslate"><span class="pre">cp2k</span></code> and <code class="docutils literal notranslate"><span class="pre">gromacs</span></code></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">engine_dir</span></code><span class="classifier"><cite>str</cite> (Required)</span></dt><dd><p>Directory where temporary files created by engine (e.g. md.out) will be placed. If running over multiple nodes,
all nodes must be able to access this (i.e. <code class="docutils literal notranslate"><span class="pre">/tmp/*</span></code> may not work). Files here will not be deleted, so they
can be inspected afterwards if anything went wrong.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This should be the full path.</p>
</div>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">md_cmd</span></code><span class="classifier"><cite>str</cite> (Required)</span></dt><dd><p>Command to launch one simulation with, excluding any specific input or output files</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">plumed_file</span></code><span class="classifier"><cite>str</cite> (Required)</span></dt><dd><p>Path to the PLUMED file containing COMMITTOR basins</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">delta_t</span></code><span class="classifier"><cite>float</cite> (Required)</span></dt><dd><p>The <span class="math notranslate nohighlight">\(\Delta t\)</span> as defined in aimless shooting, in femtoseconds.</p>
</dd>
</dl>
<p><strong>Other required engine specific inputs: see</strong> <a class="reference internal" href="../engines/engines.html"><span class="doc">MD Engines</span></a></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">aimless_inputs</span></code></p>
<blockquote>
<div><dl>
<dt><code class="docutils literal notranslate"><span class="pre">starts_dir</span></code><span class="classifier"><cite>str</cite> (Required)</span></dt><dd><p>Path to directory containing <code class="docutils literal notranslate"><span class="pre">.xyz</span></code> files (in Å) of initial starting guesses</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">output_name</span></code><span class="classifier"><cite>str</cite> (Required)</span></dt><dd><p>Prefix to the output names. Two files will be created, <code class="docutils literal notranslate"><span class="pre">&lt;output_name&gt;.xyz</span></code> and <code class="docutils literal notranslate"><span class="pre">&lt;output_name&gt;</span></code>.csv.
Note that this string should not include an extension.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">temp</span></code><span class="classifier"><cite>float</cite> (Required)</span></dt><dd><p>Temperature to generate initial velocities at in Kelvin</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">n_parallel</span></code><span class="classifier"><cite>int</cite> (Required)</span></dt><dd><p>Number of aimless shootings to run in parallel. Total number of simulations
running at any given point is given by <code class="docutils literal notranslate"><span class="pre">n_parallel</span> <span class="pre">*</span> <span class="pre">2</span></code></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">n_points</span></code><span class="classifier"><cite>int</cite> (Required)</span></dt><dd><p>Number of accepted shooting points to be generated by a single aimless shooting before considered “done”</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">n_state_tries</span></code><span class="classifier"><cite>int</cite> (Required)</span></dt><dd><p>Number of times to reselect a known accepting state on failure to accept</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">n_vel_tries</span></code><span class="classifier"><cite>int</cite> (Required)</span></dt><dd><p>Number of times to resample velocities after getting a rejected shooting point
before retrying known accepting states</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">acceptor</span></code> (Optional - can be defined, excluded, or null. In the latter two cases, uses <code class="docutils literal notranslate"><span class="pre">default</span></code>)</dt><dd><p>Used to define what cases of committing should be considered accepted.</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">type</span></code><span class="classifier"><cite>str</cite> (<code class="docutils literal notranslate"><span class="pre">default</span></code> or <code class="docutils literal notranslate"><span class="pre">multibasin</span></code>)</span></dt><dd><ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">default</span></code>, accept if the forward and reverse trajectories commit to any different basins</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">multibasin</span></code>, accept if the forward and reverse trajectories commit to a product basin and a
reactant basin, which must be defined as lists below.</p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reactants</span></code><span class="classifier"><cite>list[int]</cite> (Required if <code class="docutils literal notranslate"><span class="pre">type</span> <span class="pre">=</span> <span class="pre">multibasin</span></code>)</span></dt><dd><p>The basins to be considered as “reactants”</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">products</span></code><span class="classifier"><cite>list[int]</cite> (Required if <code class="docutils literal notranslate"><span class="pre">type</span> <span class="pre">=</span> <span class="pre">multibasin</span></code>)</span></dt><dd><p>The basins to be considered as “products”</p>
</dd>
</dl>
</dd>
</dl>
</div></blockquote>
</section>
<section id="colvar-inputs-optional">
<h2><code class="docutils literal notranslate"><span class="pre">colvar_inputs</span></code> (Optional)<a class="headerlink" href="#colvar-inputs-optional" title="Permalink to this headline">¶</a></h2>
<p>These are the required inputs to calculate new CVs from the results of aimless shooting.
If this section is excluded, new CVs will not be calculated and we will continue to the next present part.</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">plumed_cmd</span></code><span class="classifier"><cite>str</cite> (Required)</span></dt><dd><p>Command to launch PLUMED with, the PLUMED binary</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">plumed_file</span></code><span class="classifier"><cite>str</cite> (Required)</span></dt><dd><p>Path to the <code class="docutils literal notranslate"><span class="pre">plumed.dat</span></code> that contains CV definitions</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">output_name</span></code><span class="classifier"><cite>str</cite> (Required)</span></dt><dd><p>Path to file that PLUMED should dump CVs to in its COLVAR format</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">csv_input</span></code><span class="classifier"><cite>str</cite> (Optional)</span></dt><dd><p>If you’ve excluded <code class="docutils literal notranslate"><span class="pre">md_inputs</span></code> and don’t want to run it, you need to explicitly
set the file name of the <code class="docutils literal notranslate"><span class="pre">.csv</span></code> file produced by a previous run. If <code class="docutils literal notranslate"><span class="pre">md_inputs</span></code>
is defined and this field is missing or <code class="docutils literal notranslate"><span class="pre">null</span></code>, the file name will be inferred from
the <code class="docutils literal notranslate"><span class="pre">md_inputs</span></code> section.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">xyz_input</span></code><span class="classifier"><cite>str</cite> (Optional)</span></dt><dd><p>If you’ve excluded <code class="docutils literal notranslate"><span class="pre">md_inputs</span></code> and don’t want to run it, you need to explicitly
set the file name of the <code class="docutils literal notranslate"><span class="pre">.xyz</span></code> file produced by a previous run. If <code class="docutils literal notranslate"><span class="pre">md_inputs</span></code>
is defined and this field is missing or <code class="docutils literal notranslate"><span class="pre">null</span></code>, the file name will be inferred from
the <code class="docutils literal notranslate"><span class="pre">md_inputs</span></code> section.</p>
</dd>
</dl>
</section>
<section id="likelihood-inputs-optional">
<h2><code class="docutils literal notranslate"><span class="pre">likelihood_inputs</span></code> (Optional)<a class="headerlink" href="#likelihood-inputs-optional" title="Permalink to this headline">¶</a></h2>
<p>These are the required inputs to perform likelihood maximization on the results of aimless shooting and calculated CVs
If this section is excluded, likelihood maximization will not be performed and the program will exit after completing
any preceding sections.</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">max_cvs</span></code>: <cite>int</cite> (Optional)</dt><dd><p>Set the maximum length of the set of CVs to be considered. If null or missing, all may be
considered if the improvement for length i to i+1 is enough as given by Peters.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">output_name</span></code><span class="classifier"><cite>str</cite> (Required)</span></dt><dd><p>Path to the file to put results of maximization in.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">csv_input</span></code><span class="classifier"><cite>str</cite> (Optional)</span></dt><dd><p>If you’ve excluded <code class="docutils literal notranslate"><span class="pre">md_inputs</span></code> and don’t want to run it, you need to explicitly
set the file name of the <code class="docutils literal notranslate"><span class="pre">.csv</span></code> file produced by a previous run. If <code class="docutils literal notranslate"><span class="pre">md_inputs</span></code>
is defined and this field is missing or <code class="docutils literal notranslate"><span class="pre">null</span></code>, the file name will be inferred from
the <code class="docutils literal notranslate"><span class="pre">md_inputs</span></code> section.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">colvar_input</span></code><span class="classifier"><cite>str</cite> (Optional)</span></dt><dd><p>If you’ve excluded <code class="docutils literal notranslate"><span class="pre">colvar_inputs</span></code> and don’t want to run it, you need to explicitly
set the file name of the <code class="docutils literal notranslate"><span class="pre">COLVAR</span></code> file produced by a previous run. If <code class="docutils literal notranslate"><span class="pre">colvar_inputs</span></code>
is defined and this field is missing or <code class="docutils literal notranslate"><span class="pre">null</span></code>, the file name will be inferred from
the <code class="docutils literal notranslate"><span class="pre">colvar_inputs</span></code> section.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">n_iter</span></code><span class="classifier"><cite>int</cite> (Optional)</span></dt><dd><p>Global optimization is performed by basinhopping. This is the number of local optimization to perform per global
optimizations. If missing, defaults to <code class="docutils literal notranslate"><span class="pre">100</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">use_jac</span></code><span class="classifier"><cite>bool</cite> (Optional)</span></dt><dd><p>Set to <code class="docutils literal notranslate"><span class="pre">true</span></code> if you want to use use the analytical calculation for the jacobian
during optimization, which generally is faster. Set to <code class="docutils literal notranslate"><span class="pre">false</span></code> to use a finite
difference approximation. Defaults to <code class="docutils literal notranslate"><span class="pre">true</span></code> if excluded.</p>
</dd>
</dl>
</section>
</section>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="../engines/engines.html" class="btn btn-neutral float-right" title="MD Engines" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="../workflow/workflow.html" class="btn btn-neutral float-left" title="Transition Sampling Workflow" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020, Isaiah Lemmon.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>